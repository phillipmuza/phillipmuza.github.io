var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
define(["require", "exports", "lib/axios"], function (require, exports, axios_1) {
    "use strict";
    var SCHOOL_CREDIT_SEARCH_MIN_QUERY_LENGTH = 3;
    var CXSchoolUtil = (function () {
        function CXSchoolUtil() {
        }
        Object.defineProperty(CXSchoolUtil.prototype, "searchCXSchoolsByName", {
            enumerable: false,
            configurable: true,
            writable: true,
            value: function (schoolName, minQueryLength, shouldFuzzyMatch) {
                if (minQueryLength === void 0) { minQueryLength = SCHOOL_CREDIT_SEARCH_MIN_QUERY_LENGTH; }
                if (!schoolName || schoolName.length < minQueryLength) {
                    return Promise.reject('Your search is too short.');
                }
                return axios_1.default.get("/academy/school-credit-search.ajax", {
                    params: {
                        searchText: schoolName,
                        fuzzyMatch: shouldFuzzyMatch
                    }
                })
                    .then(function (response) {
                    if (!response.data["partners"] || !response.data["credit"] || !response.data["other"] ||
                        (response.data["partners"].length === 0 && response.data["credit"].length === 0 && response.data["other"].length === 0)) {
                        throw 'Sorry, there are no schools that match your search.';
                    }
                    var result = __spreadArray(__spreadArray(__spreadArray([], response.data["partners"], true), response.data["credit"], true), response.data["other"], true);
                    return result;
                });
            }
        });
        Object.defineProperty(CXSchoolUtil.prototype, "getAdmissionsLandingPage", {
            enumerable: false,
            configurable: true,
            writable: true,
            value: function (companyId) {
                return axios_1.default.get("/college/school/get-admissions-landing-page.ajax", {
                    params: {
                        companyId: companyId
                    }
                })
                    .then(function (response) {
                    return response.data;
                });
            }
        });
        return CXSchoolUtil;
    }());
    var cxSchoolUtil = new CXSchoolUtil();
    return cxSchoolUtil;
});

//# sourceMappingURL=CXSchoolUtil.js.map
